{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Route,Routes,Navigate,Link}from'react-router-dom';import SignupPage from'./components/signup';import LoginPage from'./components/login';import HomePage from'./components/home';import EventPage from'./components/events';import ResultPage from'./components/results';import RegistrationsPage from'./components/registrations';import NewsPage from'./components/news';import ProfilePage from'./components/profile';import Navbar from'./components/navbar';import Footer from'./components/footer';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[loggedIn,setLoggedIn]=useState(false);const[isAdmin,setIsAdmin]=useState(false);// Load login and admin status on mount\nuseEffect(()=>{const isLoggedIn=sessionStorage.getItem(\"loggedIn\")===\"true\";const adminStatus=sessionStorage.getItem(\"isAdmin\")===\"true\";setLoggedIn(isLoggedIn);setIsAdmin(adminStatus);},[]);const handleLogout=()=>{setLoggedIn(false);setIsAdmin(false);sessionStorage.removeItem(\"loggedIn\");sessionStorage.removeItem(\"isAdmin\");};const ProtectedRoute=_ref=>{let{children}=_ref;return loggedIn?children:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(Navbar,{loggedIn:loggedIn,isAdmin:isAdmin,onLogout:handleLogout}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(SignupPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{setLoggedIn:setLoggedIn})}),/*#__PURE__*/_jsx(Route,{path:\"/home\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(HomePage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/events\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(EventPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/results\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ResultPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/registrations\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(RegistrationsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/news\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(NewsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ProfilePage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin-dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(HomePage,{})})})]})}),/*#__PURE__*/_jsx(Footer,{onLogout:handleLogout})]})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","Navigate","Link","SignupPage","LoginPage","HomePage","EventPage","ResultPage","RegistrationsPage","NewsPage","ProfilePage","Navbar","Footer","jsx","_jsx","jsxs","_jsxs","App","loggedIn","setLoggedIn","isAdmin","setIsAdmin","isLoggedIn","sessionStorage","getItem","adminStatus","handleLogout","removeItem","ProtectedRoute","_ref","children","to","replace","className","onLogout","path","element"],"sources":["C:/Users/vishw/Documents/Infosys Internship Project/BATCH-1/BATCH-1_main2 - Copy/Frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Route, Routes, Navigate, Link } from 'react-router-dom';\r\nimport SignupPage from './components/signup';\r\nimport LoginPage from './components/login';\r\nimport HomePage from './components/home';\r\nimport EventPage from './components/events';\r\nimport ResultPage from './components/results';\r\nimport RegistrationsPage from './components/registrations';\r\nimport NewsPage from './components/news';\r\nimport ProfilePage from './components/profile';\r\nimport Navbar from './components/navbar';\r\nimport Footer from './components/footer';\r\nimport './App.css';\r\n\r\nconst App = () => {\r\n    const [loggedIn, setLoggedIn] = useState(false);\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n\r\n    // Load login and admin status on mount\r\n    useEffect(() => {\r\n        const isLoggedIn = sessionStorage.getItem(\"loggedIn\") === \"true\";\r\n        const adminStatus = sessionStorage.getItem(\"isAdmin\") === \"true\";\r\n        setLoggedIn(isLoggedIn);\r\n        setIsAdmin(adminStatus);\r\n    }, []);\r\n\r\n    const handleLogout = () => {\r\n        setLoggedIn(false);\r\n        setIsAdmin(false);\r\n        sessionStorage.removeItem(\"loggedIn\");\r\n        sessionStorage.removeItem(\"isAdmin\");\r\n    };\r\n\r\n    const ProtectedRoute = ({ children }) => {\r\n        return loggedIn ? children : <Navigate to=\"/login\" replace />;\r\n    };\r\n\r\n    return (\r\n        <Router>\r\n            <div className=\"app-container\">\r\n                <Navbar \r\n                    loggedIn={loggedIn} \r\n                    isAdmin={isAdmin} \r\n                    onLogout={handleLogout} \r\n                />\r\n                <div className=\"main-content\">\r\n                    <Routes>\r\n                        {/* Default route */}\r\n                            <Route path=\"/\" element={<Navigate to=\"/login\" replace />} />\r\n\r\n                        {/* Public routes */}\r\n                        <Route path=\"/signup\" element={<SignupPage />} />\r\n                        <Route path=\"/login\" element={<LoginPage setLoggedIn={setLoggedIn} />} />\r\n\r\n                        {/* Protected routes */}\r\n                        <Route path=\"/home\" element={<ProtectedRoute><HomePage /></ProtectedRoute>} />\r\n                        <Route path=\"/events\" element={<ProtectedRoute><EventPage /></ProtectedRoute>} />\r\n                        <Route path=\"/results\" element={<ProtectedRoute><ResultPage /></ProtectedRoute>} />\r\n                        <Route path=\"/registrations\" element={<ProtectedRoute><RegistrationsPage /></ProtectedRoute>} />\r\n                        <Route path=\"/news\" element={<ProtectedRoute><NewsPage /></ProtectedRoute>} />\r\n                        <Route path=\"/profile\" element={<ProtectedRoute><ProfilePage /></ProtectedRoute>} />\r\n\r\n                        {/* Admin-only routes */}\r\n                        <Route path=\"/admin-dashboard\" element={<ProtectedRoute><HomePage /></ProtectedRoute>} />\r\n                        \r\n                    </Routes>\r\n                </div>\r\n                <Footer onLogout={handleLogout}/>\r\n            </div>\r\n        </Router>\r\n    );\r\n};\r\n\r\nexport default App;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}